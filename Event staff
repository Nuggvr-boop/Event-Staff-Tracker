<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event Staff Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  * { box-sizing: border-box; }
  body { font-family: 'Inter', sans-serif; background: #2c2f33; color: #fff; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; height: 100vh; }
  
  .page { display: none; width: 100%; max-width: 500px; background: #23272a; border-radius: 10px; padding: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
  .page.active { display: block; }
  
  h1,h2,h3 { margin: 10px 0; }
  
  input, select, textarea, button { width: 100%; padding: 12px; margin: 8px 0; border: none; border-radius: 8px; outline: none; font-family: 'Inter', sans-serif; }
  input, select, textarea { background: #2c2f33; color: #fff; }
  textarea { resize: vertical; }
  button { background: #7289da; color: #fff; cursor: pointer; transition: background 0.3s; }
  button:hover { background: #5b6eae; }
  
  #notesList { margin-top: 20px; }
  .note { background: #2c2f33; padding: 12px; margin-bottom: 10px; border-left: 4px solid #7289da; border-radius: 5px; display: flex; justify-content: space-between; align-items: flex-start; }
  .note-content { flex: 1; margin-right: 10px; }
  .delete-btn { background: #e74c3c; padding: 6px 10px; border-radius: 5px; font-size: 12px; }
  .delete-btn:hover { background: #c0392b; }
</style>
</head>
<body>

<!-- Login Page -->
<div id="loginPage" class="page active">
  <h1>Event Staff Tracker</h1>
  <h2>Login with Discord ID</h2>
  <input type="text" id="discordId" placeholder="Your Discord ID">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <p id="loginMsg" style="color:red;"></p>
</div>

<!-- Main Tracker Page -->
<div id="mainPage" class="page">
  <h2>Welcome, <span id="userDisplay"></span></h2>
  
  <h3>Add Notes for Trial Staff</h3>
  <select id="staffName">
    <option value="" disabled selected>Select Staff</option>
    <option>Masonman585</option>
    <option>ğ™·ğšŠğš£ğš–ğšŠğš</option>
    <option>civda</option>
    <option>Glitch</option>
    <option>Mr.Builder</option>
    <option>Nate</option>
    <option>Riskhunter</option>
    <option>SmokeSteelz</option>
  </select>
  <textarea id="staffNote" placeholder="Write your notes here" rows="4"></textarea>
  <button onclick="addNote()">Save Note</button>

  <h3>Saved Notes</h3>
  <div id="notesList"></div>
  
  <button onclick="logout()">Logout</button>
</div>

<script>
    const allowedDiscordIds = ["1229027284346994703", "713922739748208660", "930583720723898419", "698264742472581180"];
const defaultPassword = "1";

function login() {
  const discordId = document.getElementById("discordId").value.trim();
  const password = document.getElementById("password").value;
  
  if (!allowedDiscordIds.includes(discordId)) {
    document.getElementById("loginMsg").textContent = "This Discord ID is not allowed!";
    return;
  }
  if (password !== defaultPassword) {
    document.getElementById("loginMsg").textContent = "Incorrect password!";
    return;
  }

  sessionStorage.setItem("loggedInUser", discordId);
  showMainPage();
}

function showMainPage() {
  document.getElementById("loginPage").classList.remove("active");
  document.getElementById("mainPage").classList.add("active");
  document.getElementById("userDisplay").textContent = sessionStorage.getItem("loggedInUser");
  displayNotes();
}

function logout() {
  sessionStorage.removeItem("loggedInUser");
  document.getElementById("mainPage").classList.remove("active");
  document.getElementById("loginPage").classList.add("active");
  document.getElementById("loginMsg").textContent = "";
}

function addNote() {
  const staffName = document.getElementById("staffName").value;
  const staffNote = document.getElementById("staffNote").value.trim();
  if (!staffName || !staffNote) return alert("Select a staff member and write a note");

  const notes = JSON.parse(localStorage.getItem("notes") || "[]");
  notes.push({ 
    id: Date.now(),  // unique id for each note
    staffName, 
    staffNote, 
    by: sessionStorage.getItem("loggedInUser"), 
    date: new Date().toLocaleString() 
  });
  localStorage.setItem("notes", JSON.stringify(notes));

  document.getElementById("staffNote").value = "";
  displayNotes();
}

function deleteNote(noteId) {
  let notes = JSON.parse(localStorage.getItem("notes") || "[]");
  notes = notes.filter(note => note.id !== noteId);
  localStorage.setItem("notes", JSON.stringify(notes));
  displayNotes();
}

function displayNotes() {
  const notes = JSON.parse(localStorage.getItem("notes") || "[]");
  const discordId = sessionStorage.getItem("loggedInUser");
  const filteredNotes = notes.filter(note => note.by === discordId);
  const notesList = document.getElementById("notesList");
  notesList.innerHTML = "";

  if (filteredNotes.length === 0) {
    notesList.textContent = "No notes yet.";
    return;
  }

  filteredNotes.forEach(note => {
    const div = document.createElement("div");
    div.className = "note";
    
    const contentDiv = document.createElement("div");
    contentDiv.className = "note-content";
    contentDiv.innerHTML = `<strong>${note.staffName}</strong> (at ${note.date})<br>${note.staffNote}`;
    
    const deleteBtn = document.createElement("button");
    deleteBtn.className = "delete-btn";
    deleteBtn.textContent = "Delete";
    deleteBtn.onclick = () => deleteNote(note.id);
    
    div.appendChild(contentDiv);
    div.appendChild(deleteBtn);
    notesList.appendChild(div);
  });
}

if (sessionStorage.getItem("loggedInUser")) showMainPage();
</script>

</body>
</html>
